<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
    <head>
        
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />

        <title>Using a configuration file for Boto &middot; Global Constant</title>
        <link rel='stylesheet' href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600' type='text/css'>
        <link rel="stylesheet" href="http://blog.scnay.com/css/main.min.css" />
        <link rel="alternate" href="" type="application/rss+xml" title="Global Constant" />
        <style type="text/css">
            .alignright {
                float: right;
            }
        </style>
    </head>
    <body class="li-body">

<header class="li-page-header">
    <div class="container">
        <div class="row">
            <div class="sixteen columns">
                <div class="li-brand li-left">
                <a href="http://blog.scnay.com">Global Constant</a>
                <br />Steve Nay&#39;s ramblings</div>
                <div class="li-menu li-right">
                    <span class="li-menu-icon" onclick="javascript:toggle('menu');">&#9776;</span>
                    <ul id="menu2" class="li-menu-items">
                        <li><a href="/archive">Archives</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="sixteen columns">
                <ul id="menu" class="li-menu-items li-menu-mobile">
                    <li><a href="/archive">Archives</a></li>
                </ul>
            </div>
        </div>
    </div>
</header>


    <div class="container">
        <div class="row">
            <div class="sixteen columns">
                <article class="li-article">
                    <header class="li-article-header">
                        <h1 class="li-article-title">Using a configuration file for Boto</h1>
                        <time class="li-article-date">Tuesday 22 February 2011</time>
                    </header>
                    <section>
                        <p>In Lab 3, we&rsquo;re doing a lot more with Boto. It&rsquo;s useful to have a configuration file and put everything there so that AWS keys, SimpleDB domains, and SQS queue names don&rsquo;t have to be embedded in the source code. In this post, I&rsquo;ll talk about using a system-wide config file for Boto.</p>

<p><strong>The config file</strong>
The config file itself is very simple. It has several sections, each with a heading. Under the headings are key=value pairs. Here is a simple example:</p>

<pre>
[Credentials]
aws_access_key_id={redacted}
aws_secret_access_key={redacted}

[simpledb]
imagedomain=picture
commentdomain=comment
</pre>

<p>You could make other sections for S3 and SQS if desired (those will be used more in Lab 4). Finally, put that file in somewhere it can be accessed by the whole system. Mine will go in /etc/boto.cfg.</p>

<p><strong>Using the config file in Python</strong>
You can use the ConfigParser module to get the key/value pairs out of the config file and use them. That code might look something like this:</p>

<pre>
import ConfigParser
config = ConfigParser.ConfigParser()
config.read(["/etc/boto.cfg"])
</pre>

<p>Now, whenever you need to get a value from the config file, simply call get() on the ConfigParser object, passing it the section and key you want. For example, if I want to get the imagedomain key out of the simpledb section from the example config file above, I would write this:</p>

<pre>
imagedomain = config.get('simpledb', 'imagedomain')
</pre>

<p><strong>Conclusion</strong>
The advantage of doing it this way is that all your Boto configuration is stored in one location out of the web root where all your scripts can access it. You don&rsquo;t have to hard-code all that information into the website code itself, making maintenance easier.</p>

                    </section>
                </article>
            </div>
        </div>
        <div class="row li-pagination">
            <div class="eight columns">
                <div class="li-pagination-previous">
                    
                        Later article<br />
                        <a href="http://blog.scnay.com/2011/02/24/using-chrome-desktop-notifications-on-your-own-site"> Using Chrome desktop notifications on your own site</a>
                    
                </div>
            </div>
            <div class="eight columns">
                <div class="li-pagination-next">
                    
                        Older article<br />
                        <a href="http://blog.scnay.com/2011/02/22/getting-more-detailed-stats-on-krl-applications-with-the-ruby-gem"> Getting more detailed stats on KRL applications with the Ruby gem</a>
                    
                </div>
            </div>
        </div>
    </div>

<footer class="li-page-footer">
    <div class="container">
        <div class="row">
            <div class="sixteen columns">
                <div class="li-page-footer-legal">
                    Licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC Attribution-ShareAlike 4.0 International</a>
                </div>
                <div class="li-page-footer-theme">
                    <span class="">Powered by <a href="http://hugo.spf13.com/">hugo</a>. Theme based on <a href="http://github.com/eliasson/liquorice/">liquorice</a>.</span>
                </div>
            </div>
        </div>
    </div>
</footer>

    <script type="text/javascript">
    <!--
    function toggle(id) {
        var e = document.getElementById(id);
        e.style.display == 'block' ? e.style.display = 'none' : e.style.display = 'block';
    }
    
    </script>
    </body>
</html>

